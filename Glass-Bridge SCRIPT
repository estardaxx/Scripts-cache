-- Load Rayfield
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Main Window
local Window = Rayfield:CreateWindow({
    Name = "Crystal ESP Menu",
    LoadingTitle = "Loading...",
    LoadingSubtitle = "Created by Scriptax",
    ConfigurationSaving = {
        Enabled = false,
    },
    KeySystem = false, -- no key system
})

-- Main Tab
local Tab = Window:CreateTab("Main", 4483362458)

-- Toggle ESP Glasses
Tab:CreateToggle({
    Name = "ESP Glasses",
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            -- ENABLED
            local root = workspace:FindFirstChild("Regenator")
            if not root then return end

            local container = root:FindFirstChild("Regenartor")
            if not container then return end

            for _, model in ipairs(container:GetChildren()) do
                if model:IsA("Model") then
                    local innerModel = model:FindFirstChild("modell")
                    if innerModel then
                        for _, part in ipairs(innerModel:GetChildren()) do
                            if part:IsA("BasePart") then
                                local hasTouch = part:FindFirstChild("TouchInterest") ~= nil
                                part.Color = hasTouch and Color3.fromRGB(255, 0, 0) or Color3.fromRGB(0, 255, 0)
                                part.Material = Enum.Material.Neon
                            end
                        end
                    end
                end
            end
        else
            -- DISABLED (reset to default)
            local root = workspace:FindFirstChild("Regenator")
            if not root then return end

            local container = root:FindFirstChild("Regenartor")
            if not container then return end

            for _, model in ipairs(container:GetChildren()) do
                if model:IsA("Model") then
                    local innerModel = model:FindFirstChild("modell")
                    if innerModel then
                        for _, part in ipairs(innerModel:GetChildren()) do
                            if part:IsA("BasePart") then
                                part.Color = Color3.fromRGB(255, 255, 255)
                                part.Material = Enum.Material.Plastic
                            end
                        end
                    end
                end
            end
        end
    end,
})

-- Teleport Button
Tab:CreateButton({
    Name = "Teleport",
    Callback = function()
        local player = game:GetService("Players").LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()

        local targetPosition = Vector3.new(-0.7761471271514893, 555.5330200195312, -288.62420654296875)

        if character:FindFirstChild("HumanoidRootPart") then
            character:MoveTo(targetPosition)
        end
    end,
})

-- WalkSpeed Slider
Tab:CreateSlider({
    Name = "WalkSpeed",
    Range = {16, 200},
    Increment = 1,
    CurrentValue = 16,
    Callback = function(Value)
        local player = game:GetService("Players").LocalPlayer
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid.WalkSpeed = Value
        end
    end,
})

-- JumpPower Slider
Tab:CreateSlider({
    Name = "JumpPower",
    Range = {50, 300},
    Increment = 5,
    CurrentValue = 50,
    Callback = function(Value)
        local player = game:GetService("Players").LocalPlayer
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid.JumpPower = Value
        end
    end,
})

-- Signature Label
Tab:CreateLabel("Made by Scriptax âš¡")
